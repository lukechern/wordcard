# 更新日志

本项目遵循 [语义化版本](https://semver.org/lang/zh-CN/) 规范。

## [5.0.0] - 2025-07-25

### 新增功能 ✨
- **双路API大语言模型引擎**: 支持可自选的双路API大语言模型引擎，用户可以在两个不同的API之间切换使用
- **API配置优化**: 新增API名称配置选项，支持自定义API提供商名称
- **智谱清言优化**: 优化智谱清言大模型API的响应速度

### 技术改进 🔧
- **API架构重构**: 重构API配置架构，支持双路API模型
- **代码优化**: 优化网络请求代码，提升API调用效率
- **性能优化**: 减少流式输出模拟延迟，提升用户体验

### 界面优化 🎨
- **API配置界面升级**: 重构API配置界面，支持双路API配置
- **视觉统一**: 统一应用内所有查询相关功能的图标为AutoAwesome（三个星星）图标

## [4.8.0] - 2025-07-25

### 界面优化 🎨
- **单词本筛选菜单全面升级**: 将右上角收藏心形图标替换为汉堡菜单图标，点击后滑出功能丰富的筛选侧边栏
- **智能筛选功能**: 新增收藏筛选、记录时间排序、拼写次数排序、浏览次数排序等多维度筛选选项
- **流畅动画效果**: 侧边菜单支持300ms平滑滑入滑出动画，汉堡图标与叉叉图标无缝切换
- **精致视觉设计**: 侧边菜单采用与底部导航栏一致的背景色，视觉更加统一协调

### 图标统一化 ✨
- **三个星星图标统一**: 将所有查询相关功能的图标统一为AutoAwesome（三个星星）图标
- **查单词首页优化**: 查询按钮前的放大镜图标替换为三个星星图标，与底部导航栏保持一致
- **小组件图标升级**: 小组件搜索按钮和弹出查询卡片的图标全部更新为三个星星图标
- **视觉一致性提升**: 整个应用的查询功能现在使用统一的视觉语言

### 用户体验改进 💡
- **筛选菜单交互优化**: 收藏筛选状态显示在同一行右侧，排序选项去掉冒号并右对齐显示
- **图标大小精调**: 收藏筛选心形图标减小15%，排序箭头图标加大35%，视觉层次更清晰
- **布局紧凑化**: 侧边菜单宽度优化为215dp，统计数据位置上移，界面更加紧凑高效
- **选中状态优化**: 排序选项选中时图标加大但行高保持不变，避免界面跳动

### 技术改进 🔧
- **数据库排序支持**: 在WordDao中新增多种排序方式的分页查询方法，支持所有筛选组合
- **状态管理完善**: 在ViewModel中添加排序状态管理，确保筛选状态与UI完全同步
- **组件化设计**: 新增FilterSideMenu组件，支持动画效果和完整的筛选逻辑

### 修复问题 🐛
- 修复了小组件点击搜索按钮后立刻关闭的问题
- 修复了小组件查询按钮图标颜色、位置和间距问题
- 修复了排序项目X轴对齐和行高一致性问题

## [4.7.0] - 2025-07-25

### 功能改进 💡
- **系统代码清理**: 优化了项目代码结构，提升了代码质量和可维护性
- **导入功能优化**: 改进了数据导入功能的稳定性和用户体验

### 技术改进 🔧
- **状态管理优化**: 新增导出数据状态管理，确保导出路径信息的正确显示
- **UI组件重构**: 重构了数据管理界面，提升了用户交互体验

## [4.6.0] - 2025-07-24

### 功能改进 💡
- **智能中文释义解析**: 优化中文释义的解析时机，确保释义部分完全输出后才进行解析和显示
- **关键词检测机制**: 通过检测"音标"关键词来判断流式输出是否完成，避免过早显示错误提示
- **流畅的UI状态管理**: 流式输出进行中时隐藏中文释义区域，完成后再显示解析结果

### 界面优化 🎨
- **动态显示控制**: 中文释义区域根据流式状态智能显示或隐藏
- **错误提示优化**: 只在确认解析失败后才显示错误提示，避免误导用户
- **视觉连贯性**: 流式输出过程中保持界面的视觉连贯性和稳定性
- **响应式反馈**: 提供更准确和及时的用户反馈机制

### 技术改进 🔧
- **WidgetUIStateManager优化**: 增强了`updateChineseMeaning_7ree`方法，添加流式状态参数控制
- **内容完整性检测**: 新增`isContentComplete_7ree`方法，智能判断流式输出完成状态
- **参数传递优化**: 改进了流式输出处理逻辑，正确传递完整内容和状态信息
- **状态同步机制**: 确保UI状态与流式输出进度完美同步

### 修复问题 🐛
- 修复了流式输出时过早显示"(无法解析中文释义)"的问题
- 修复了中文释义解析时机不准确的问题
- 修复了UI状态与流式输出进度不同步的问题

## [4.5.0] - 2025-07-23

### 新增功能 ✨
- **局域网数据管理**: 全新推出电脑操作功能，通过局域网在PC端进行数据导入导出操作
- **Web界面操作**: 精美的PC端Web界面，支持文件导入和手动粘贴JSON数据两种导入方式
- **跨平台数据同步**: PC端和手机端数据实时同步，导入成功后自动更新单词记录数量显示
- **智能操作模式**: 手机操作与电脑操作互斥切换，避免操作冲突，确保数据安全

### 界面优化 🎨
- **前台查询卡片优化升级**: 优化前台查询卡片的视觉设计，界面更加精美协调
- **响应速度优化**: 提升查询卡片的响应速度，操作更加流畅自然
- **交互体验改进**: 改进用户交互逻辑，减少操作步骤，提升使用效率
- **视觉一致性**: 统一设计语言，与应用整体风格保持高度一致

### 技术改进 🔧
- **模块化HTTP服务器**: 将复杂的HTTP服务器代码拆分为多个独立组件，便于维护和扩展
- **组件化UI设计**: 数据管理界面采用组件化设计，代码结构更加清晰
- **状态管理优化**: 改进状态管理机制，确保跨组件状态同步的准确性
- **版本管理自动化**: 实现版本信息的自动化管理，减少手动维护工作量

## [1.0.0] - 2025-07-13

### 新增功能 ✨
- 🎉 首次发布 WordCard AI 智能单词卡片应用
- 🤖 集成 OpenAI GPT 模型，提供智能单词查询
- 🎵 支持单词和例句的 TTS 语音朗读
- 📚 单词历史记录管理和收藏功能
- 📱 基于 Jetpack Compose 的现代化 UI 界面
- 🎨 Material Design 3 设计语言支持
- 📊 学习进度统计功能
- 📤 数据导入导出功能（JSON 格式）
- 👆 手势导航，支持上下滑动切换单词
- 🌙 深色/浅色主题支持

### 技术特性 🔧
- 使用 Kotlin + Jetpack Compose 开发
- MVVM 架构模式
- Room 数据库本地存储
- Ktor 网络请求库
- Markwon Markdown 渲染
- Kotlinx Serialization 数据序列化

### 系统要求 📋
- Android 6.0 (API 24) 或更高版本
- 需要 OpenAI API 密钥
- 支持 TTS 语音功能

### 已知问题 ⚠️
- 首次使用需要配置 OpenAI API 密钥
- 需要网络连接才能使用 AI 查询功能
- TTS 功能需要设备支持相应语言包

---

## 版本说明

### 版本号格式
- `主版本号.次版本号.修订号`
- 例如：`1.0.0`

### 版本类型
- **主版本号**：不兼容的 API 修改
- **次版本号**：向下兼容的功能性新增
- **修订号**：向下兼容的问题修正

### 更新类型标识
- ✨ 新功能
- 🐛 Bug 修复
- 💡 功能改进
- 📝 文档更新
- 🎨 界面优化
- ⚡ 性能优化
- 🔧 技术改进
- ⚠️ 已知问题
- 🚀 重大更新

---

## 贡献更新日志

如果您为项目添加了新功能或修复了 Bug，请在提交 PR 时更新此文件，添加相应的更新日志条目。

### 更新日志格式

```markdown
## [版本号] - YYYY-MM-DD

### 新增功能 ✨
- 功能描述

### 修复问题 🐛
- 问题描述

### 功能改进 💡
- 改进描述
```

---

## 历史版本

### [0.1.0] - 开发版本
- 项目初始化和基础架构搭建
- 核心功能开发和测试
- UI 界面设计和实现
